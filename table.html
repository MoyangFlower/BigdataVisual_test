<!DOCTYPE>
<html>
<head>
    <meta charset=utf-8 />
    <title>动态表格</title>
    <!-- 增加表格头的样式   -->
    <style type="text/css">
        #list th{
            background-color:#06F;
        }
    </style>
</head>

<body>
<table border="1" align="right" width="500PX">
    <thead>
    <!-- 创建表格头 -->
    <tr id="list">
        <th>选中</th>
        <th>所属区域</th>
        <th>所属台站</th>
        <th>测点编码</th>
        <th>仪器名称</th>
        <th>测项名称</th>
    </tr>
    <!-- 添加全部删除按钮， -->
    <tr>
        <td ><input type="checkbox" onclick="checkAll(this)" />全选</td>
    </tr>
    </thead>
    <tbody id="listbody"></tbody>
</table>
<!-- 用于画一个横线 -->
<hr/>
<!-- 创建form表单  -->
<form >
    <table align="center" border="1" width="300px">
        <tr>
            <th >所属区域</th>
            <td> <input type="text" id="id" /></td>
        </tr>
        <tr>
            <th>所属台站</th>
            <td> <input type="text" id="name" /></td>
            </th>
        </tr>
        <tr>
            <th>测点编码</th>
            <td> <input type="text" id="pass" /></td>
        </tr>
        <tr>
            <th>仪器名称</th>
            <td> <input type="text" id="age" /></td>
        </tr>
        <tr>
            <th>测项名称</th>
            <td> <input type="text" id="address" /></td>
        </tr>
        <tr>
            <td colspan="2" align="center">
                <input type="reset" value="重置" align="center" />
                <input type="button" value="添加" align="center" onclick="addlist()"/>
            </td>
        </tr>

    </table>

</form>

</body>
<script type="text/javascript">
    function addlist(){
        //获取用户输入
        var id=document.getElementById("id").value;
        var name = document.getElementById("name").value;
        var pass = document.getElementById("pass").value;
        var age = document.getElementById("age").value;
        var address = document.getElementById("address").value;

        //创建一个tr
        var tr = document.createElement("tr");
        //创建td

        var td1 = document.createElement("td");
        var input = document.createElement("input");
        input.setAttribute("type","checkbox");
        input.setAttribute("name","item");
        td1.appendChild(input);

        var td2 = document.createElement("td");
        td2.innerHTML = id;

        var td3 = document.createElement("td");
        td3.innerHTML = name;

        var td4 = document.createElement("td");
        td4.innerHTML = pass;

        var td5 = document.createElement("td");
        td5.innerHTML = age;

        var td6 = document.createElement("td");
        td6.innerHTML = address;


        //将创建的td添加到tr中
        tr.appendChild(td1);
        tr.appendChild(td2);
        tr.appendChild(td3);
        tr.appendChild(td4);
        tr.appendChild(td5);
        tr.appendChild(td6);

        //使用appendChild（tr）方法，将tr添加到listbody中
        //其中获取的listbody是要将表格添加的位置的id
        var listbody = document.getElementById("listbody");
        listbody.appendChild(tr);

    }

    //全选

    function checkAll(c){
        //得到全选按钮的状态
        var status = c.checked;
        //得到name=item的标签
        var items = document.getElementsByName("item");
        for(var i=0;i<items.length;i++){
            //将全选按钮的状态给所有的items
            items[i].checked=status;

        }
    }
    //删除选中部分，注意变量，每删除一个，要将变量减一，否则，将导致变量溢出，浏览器死机
    function delAll(){

        var list = document.getElementById("listbody");
        //拿到所有的item
        var items = document.getElementsByName("item");
        for(var j=0;j<items.length;j++){

            if(items[j].checked)//如果item被选中
            {

                var tr = items[j].parentNode.parentNode;
                list.removeChild(tr);
                j--;
            }
        }
    }

</script>
</html>